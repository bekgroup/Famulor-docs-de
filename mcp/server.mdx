---
title: "MCP Server"
icon: "plug"
description: "Model Context Protocol Server f√ºr die Famulor Voice Agent Platform"
---

# ü§ñ Famulor MCP Server

Ein MCP (Model Context Protocol) Server f√ºr die **Famulor Voice Agent Platform**, der KI-gest√ºtzte Telefonanrufe, Assistentenverwaltung und Anrufdatenabruf √ºber ChatGPT und andere MCP-kompatible Clients erm√∂glicht.

<img
  src="/provisioning/sip-ai/famulor-mcp-server.png"
  alt="Famulor MCP Server"
/>

<CardGroup cols={2}>
  <Card
    title="GitHub Repository"
    icon="github"
    href="https://github.com/bekservice/Famulor-MCP"
  >
    Quellcode und Dokumentation
  </Card>
  <Card
    title="Online MCP Server"
    icon="globe"
    href="https://mcp.famulor.io"
  >
    Gehosteter Server ohne Installation
  </Card>
</CardGroup>

## Demo Video

<iframe
  className="w-full aspect-video rounded-xl"
  src="https://www.youtube.com/embed/OMQeTiBNW3Q"
  title="Famulor MCP Server Demo"
  frameBorder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
  allowFullScreen
></iframe>

## √úbersicht

Dieser MCP Server bietet Zugriff auf die Famulor Voice Agent Platform und erm√∂glicht es Benutzern, KI-gest√ºtzte Telefonanrufe zu t√§tigen, Voice-Assistenten zu verwalten und Anruf-Transkripte und Aufnahmen abzurufen - alles direkt aus jedem MCP-kompatiblen Client wie ChatGPT Desktop, Claude Desktop oder anderen MCP-kompatiblen Anwendungen.

### üåê Online MCP Server

**Sie k√∂nnen den gehosteten MCP Server ohne lokale Installation verwenden:**

- **Server URL**: [https://mcp.famulor.io](https://mcp.famulor.io)
- **SSE Endpoint**: [https://mcp.famulor.io/sse](https://mcp.famulor.io/sse)
- **Health Check**: [https://mcp.famulor.io/health](https://mcp.famulor.io/health)

Der Server ist einsatzbereit! F√ºr Anweisungen zur Online-Nutzung siehe die [Online Deployment Guide](https://github.com/bekservice/Famulor-MCP/blob/main/ONLINE_DEPLOYMENT.md).

## Features

- üìû **Anrufe t√§tigen** - KI-gest√ºtzte Telefongespr√§che initiieren
- ü§ñ **Assistenten verwalten** - Ihre KI-Assistenten abrufen und verwalten
- üìä **Anrufdaten abrufen** - Transkripte, Aufnahmen und Metadaten abrufen
- üîí **Sichere Authentifizierung** - API-Schl√ºssel-basierte Authentifizierung pro Benutzer

## Entwicklung

```bash
# Entwicklung mit Hot Reload
npm run dev

# Build f√ºr Produktion
npm run build

# Produktions-Build starten
npm start

# Code linten
npm run lint

# Code formatieren
npm run format
```

## Verf√ºgbare Tools

### Call Tools

<AccordionGroup>
  <Accordion title="make_call">
    T√§tigt einen Telefonanruf mit einem KI-Assistenten
    
    **Parameter:**
    - `assistant_id` (erforderlich) - Die ID des Assistenten
    - `phone_number` (erforderlich) - Die Telefonnummer im E.164-Format
    - `variables` (optional) - Variablen, die an den Assistenten √ºbergeben werden sollen
  </Accordion>

  <Accordion title="get_call">
    Ruft Details eines bestimmten Anrufs ab
    
    **Parameter:**
    - `call_id` (erforderlich) - Die ID des Anrufs
  </Accordion>

  <Accordion title="list_calls">
    Listet alle Anrufe mit optionalen Filtern auf (paginiert)
    
    **Parameter:**
    - `assistant_id` (optional) - Nach Assistenten-ID filtern
    - `page` (optional) - Seitennummer (Standard: 1)
    - `per_page` (optional) - Anzahl der Anrufe pro Seite (Standard: 15)
    
    **R√ºckgabe:** Paginierte Antwort mit `data`-Array, das Anrufe und Paginierungs-Metadaten enth√§lt
  </Accordion>
</AccordionGroup>

### Assistant Tools

<AccordionGroup>
  <Accordion title="get_assistants">
    Ruft alle verf√ºgbaren KI-Assistenten ab (paginiert)
    
    **Parameter:**
    - `page` (optional) - Seitennummer (Standard: 1)
    - `per_page` (optional) - Anzahl der Assistenten pro Seite (Standard: 10)
    
    **R√ºckgabe:** Paginierte Antwort mit `data`-Array, das Assistenten und Paginierungs-Metadaten enth√§lt (`current_page`, `per_page`, `total`, `last_page`, `next_page_url`, etc.)
  </Accordion>

  <Accordion title="get_phone_numbers">
    Ruft alle verf√ºgbaren Telefonnummern f√ºr die Assistentenzuweisung ab
    
    **Parameter:**
    - `type` (optional) - Telefonnummern nach Assistententyp filtern: 'inbound' oder 'outbound'
    
    **R√ºckgabe:** Array von verf√ºgbaren Telefonnummern mit Details einschlie√ülich ID, Telefonnummer, L√§ndercode, Typ-Label und Verf√ºgbarkeitsstatus
  </Accordion>

  <Accordion title="get_models">
    Ruft alle verf√ºgbaren LLM-Modelle f√ºr die Assistentenkonfiguration ab
    
    **Parameter:** Keine
    
    **R√ºckgabe:** Array von verf√ºgbaren LLM-Modellen mit ID und Name
  </Accordion>

  <Accordion title="get_voices">
    Ruft alle verf√ºgbaren Stimmen f√ºr die Assistentenkonfiguration ab
    
    **Parameter:**
    - `mode` (optional) - Stimmen nach Assistentenmodus filtern: 'pipeline' oder 'multimodal'
    
    **R√ºckgabe:** Array von verf√ºgbaren Stimmen mit ID, Name und Modus-Kompatibilit√§t
  </Accordion>

  <Accordion title="get_languages">
    Ruft alle verf√ºgbaren Sprachen f√ºr die Assistentenkonfiguration ab
    
    **Parameter:** Keine
    
    **R√ºckgabe:** Array von verf√ºgbaren Sprachen mit ID, Name und ISO 639-1 zweistelligem Sprachcode (iso_2)
  </Accordion>

  <Accordion title="update_assistant">
    Aktualisiert die Konfiguration eines bestehenden KI-Assistenten
    
    **Parameter:**
    - `id` (erforderlich) - Die eindeutige ID des zu aktualisierenden Assistenten
    - Alle anderen Parameter sind optional - nur angegebene Felder werden aktualisiert:
      - `assistant_name` - Assistentenname (max. 255 Zeichen)
      - `voice_id` - Stimmen-ID (muss in verf√ºgbaren Stimmen existieren)
      - `language` - Sprachname (max. 100 Zeichen)
      - `llm_model` - LLM-Modellname (max. 100 Zeichen)
      - `calls_direction` - Anrufrichtungstyp: 'receive' oder 'make'
      - `engine_type` - Engine-Typ: 'pipeline' oder 'multimodal'
      - `timezone` - Zeitzone (z.B. "Europe/Berlin")
      - `initial_message` - Erste Nachricht, die der Assistent zu Beginn des Anrufs spricht
      - `system_prompt` - System-Prompt, der das Verhalten und die Pers√∂nlichkeit des Assistenten definiert
      - `phone_number_id` - Telefonnummer-ID zur Zuweisung (auf null setzen, um zu entfernen)
      - `tool_ids` - Array von Mid-Call-Aktions-IDs zur Synchronisation mit dem Assistenten
      - `endpoint_type` - Voice Activity Detection-Typ: 'vad' oder 'ai'
      - `endpoint_sensitivity` - Endpoint-Empfindlichkeitsstufe (0-5)
      - `interrupt_sensitivity` - Unterbrechungsempfindlichkeitsstufe (0-5)
      - `ambient_sound_volume` - Umgebungsger√§usch-Lautst√§rke (0-1)
      - `post_call_evaluation` - Ob Post-Call-Evaluierung aktiviert werden soll
      - `send_webhook_only_on_completed` - Ob Webhooks nur bei abgeschlossenen Anrufen gesendet werden sollen
      - `include_recording_in_webhook` - Ob Aufnahme-URL in Webhook-Payload enthalten sein soll
      - `is_webhook_active` - Ob Webhook-Benachrichtigungen aktiviert sind
      - `webhook_url` - Webhook-URL f√ºr Post-Call-Benachrichtigungen (auf null setzen, um zu entfernen)
      - `use_min_interrupt_words` - Ob die Einstellung f√ºr minimale Unterbrechungsw√∂rter verwendet werden soll
      - `min_interrupt_words` - Minimale Anzahl von W√∂rtern vor erlaubter Unterbrechung (0-10)
      - `variables` - Schl√ºssel-Wert-Paare von benutzerdefinierten Variablen f√ºr den Assistenten
      - `post_call_schema` - Schema-Definition f√ºr Post-Call-Datenextraktion
      - `end_call_tool` - End-Call-Tool-Konfiguration
      - `llm_temperature` - LLM-Temperatur-Einstellung (0-1)
      - `voice_stability` - Stimmen-Stabilit√§tseinstellung (0-1)
      - `voice_similarity` - Stimmen-√Ñhnlichkeitseinstellung (0-1)
      - `speech_speed` - Sprachgeschwindigkeits-Multiplikator (0.7-1.2)
      - `allow_interruptions` - Ob Unterbrechungen durch Anrufer erlaubt sind
      - `filler_audios` - Ob Filler-Audio w√§hrend der Verarbeitung verwendet werden soll
      - `re_engagement_interval` - Re-Engagement-Intervall in Sekunden (7-600)
      - `max_call_duration` - Maximale Anrufdauer in Sekunden (20-1200)
      - `max_silence_duration` - Maximale Stille-Dauer in Sekunden (1-120)
      - `end_call_on_voicemail` - Ob Anruf bei Voicemail-Erkennung beendet werden soll
      - `noise_cancellation` - Ob Rauschunterdr√ºckung aktiviert ist
      - `record_call` - Ob der Anruf aufgezeichnet werden soll
      - `who_speaks_first` - Wer zuerst im Anruf spricht: 'AI assistant' oder 'Customer'
    
    **R√ºckgabe:** Erfolgsmeldung und aktualisierte Assistentendaten
  </Accordion>
</AccordionGroup>

### Conversation Tools

<AccordionGroup>
  <Accordion title="get_conversation">
    Ruft die vollst√§ndige Nachrichtenhistorie einer bestehenden Famulor-Konversation ab
    
    **Parameter:**
    - `uuid` (erforderlich) - Die UUID der abzurufenden Konversation
    
    **R√ºckgabe:** Vollst√§ndige Konversationshistorie mit Nachrichten, Rollen und Funktionsaufrufen
  </Accordion>

  <Accordion title="create_conversation">
    Startet eine neue Chat-Session mit einem KI-Assistenten
    
    **Parameter:**
    - `assistant_id` (erforderlich) - UUID des Assistenten, der die Konversation bearbeitet
    - `type` (optional) - Konversationstyp: 'widget' (kostenpflichtig) oder 'test' (kostenlos f√ºr Entwicklung)
    - `variables` (optional) - Benutzerdefinierte Variablen zur Injektion in den Assistentenkontext (zug√§nglich √ºber `{'{'}{'{'}variable_name{'}'}{'}'}`)
    
    **R√ºckgabe:** Konversations-ID, Status und initiale Historie (wenn der Assistent eine Startnachricht hat)
    
    **Hinweis:** Widget-Konversationen sind kostenpflichtig; Test-Konversationen sind kostenlos f√ºr die Entwicklung
  </Accordion>

  <Accordion title="send_message">
    Sendet eine Benutzernachricht an eine bestehende Konversation und erh√§lt die Antwort des Assistenten
    
    **Parameter:**
    - `uuid` (erforderlich) - UUID der bestehenden Konversation
    - `message` (erforderlich) - Zu sendende Benutzernachricht (max. 2000 Zeichen)
    
    **R√ºckgabe:** Assistenten-Antwortnachricht und alle w√§hrend der Antwort ausgef√ºhrten Funktionsaufrufe
    
    **Hinweis:** Widget-Konversationen kosten $0.01 pro Benutzernachricht; Test-Konversationen sind kostenlos
  </Accordion>
</AccordionGroup>

### Campaign Tools

<AccordionGroup>
  <Accordion title="list_campaigns">
    Listet alle Kampagnen aus dem Famulor-Konto auf
    
    **Parameter:** Keine
    
    **R√ºckgabe:** Array aller Kampagnen mit Details einschlie√ülich Status, Einstellungen und Zeitplanungsinformationen
  </Accordion>

  <Accordion title="update_campaign_status">
    Startet oder stoppt eine Kampagne im Famulor-System
    
    **Parameter:**
    - `campaign_id` (erforderlich) - Die ID der zu aktualisierenden Kampagne
    - `action` (erforderlich) - Die auszuf√ºhrende Aktion: 'start' oder 'stop'
    
    **R√ºckgabe:** Erfolgsmeldung und aktualisierter Kampagnenstatus
    
    **Hinweis:** Das Starten einer Kampagne erfordert ausreichend Leads und Guthaben. Das Stoppen einer Kampagne bricht laufende Anrufe ab.
  </Accordion>
</AccordionGroup>

### Lead Tools

<AccordionGroup>
  <Accordion title="list_leads">
    Listet alle Leads f√ºr den authentifizierten Benutzer auf (paginiert)
    
    **Parameter:**
    - `page` (optional) - Seitennummer (Standard: 1)
    - `per_page` (optional) - Anzahl der Leads pro Seite (Standard: 15)
    
    **R√ºckgabe:** Paginierte Antwort mit `data`-Array, das Leads und Paginierungs-Metadaten enth√§lt
  </Accordion>

  <Accordion title="create_lead">
    Erstellt einen neuen Lead im Famulor-System
    
    **Parameter:**
    - `phone_number` (erforderlich) - Die Telefonnummer im E.164-Format
    - `campaign_id` (erforderlich) - Die ID der Kampagne
    - `variables` (optional) - Array von Variablen, die an den Lead √ºbergeben werden sollen
    - `allow_dupplicate` (optional) - Ob doppelte Leads in einer Kampagne erlaubt sind
    
    **R√ºckgabe:** Erstellte Lead-Informationen mit ID
    
    **Hinweis:** Verwenden Sie `get_assistants`, um Assistenteninformationen und Variablen zu erhalten, die beim Erstellen von Leads verwendet werden k√∂nnen
  </Accordion>

  <Accordion title="update_lead">
    Aktualisiert einen bestehenden Lead in Ihren Kampagnen
    
    **Parameter:**
    - `id` (erforderlich) - Die ID des zu aktualisierenden Leads
    - `campaign_id` (optional) - Die ID der Kampagne, der der Lead zugewiesen werden soll
    - `phone_number` (optional) - Die Telefonnummer (automatisch im E.164-Format formatiert)
    - `status` (optional) - Der Status: 'created', 'completed' oder 'reached-max-retries'
    - `variables` (optional) - Benutzerdefinierte Variablen, die mit bestehenden Lead-Variablen zusammengef√ºhrt werden
    
    **R√ºckgabe:** Erfolgsmeldung, die best√§tigt, dass der Lead aktualisiert wurde
  </Accordion>
</AccordionGroup>

### SMS Tools

<AccordionGroup>
  <Accordion title="send_sms">
    Sendet eine SMS-Nachricht √ºber Ihre Telefonnummer
    
    **Parameter:**
    - `from` (erforderlich) - Die ID Ihrer Telefonnummer, von der die SMS gesendet werden soll (muss SMS-f√§hig sein)
    - `to` (erforderlich) - Die Telefonnummer des Empf√§ngers im internationalen Format (z.B., "+4915123456789")
    - `body` (erforderlich) - Der SMS-Nachrichteninhalt (max. 300 Zeichen)
    
    **R√ºckgabe:** Erfolgsmeldung und SMS-Daten einschlie√ülich SMS-ID, Segmente, Kosten und Status
    
    **Hinweis:**
    - Die Absender-Telefonnummer muss dem authentifizierten Benutzer geh√∂ren und SMS-f√§hig sein
    - Ausreichendes Kontoguthaben ist erforderlich, um SMS-Kosten zu decken
    - SMS-Kosten variieren je nach Zielland und werden pro Segment berechnet
    - Lange Nachrichten k√∂nnen in mehrere Segmente aufgeteilt werden, was die Kosten erh√∂ht
  </Accordion>
</AccordionGroup>

### Mid-Call Tools

<AccordionGroup>
  <Accordion title="list_mid_call_tools">
    Listet alle Mid-Call-Tools auf, die es KI-Assistenten erm√∂glichen, w√§hrend Anrufen mit externen APIs zu interagieren
    
    **Parameter:** Keine
    
    **R√ºckgabe:** Array aller Mid-Call-Tools mit Details einschlie√ülich Name, Beschreibung, Endpoint, Methode, Timeout, Headers und Schema
  </Accordion>

  <Accordion title="get_mid_call_tool">
    Ruft detaillierte Informationen √ºber ein bestimmtes Mid-Call-Tool ab
    
    **Parameter:**
    - `id` (erforderlich) - Die eindeutige ID des Mid-Call-Tools
    
    **R√ºckgabe:** Vollst√§ndige Tool-Informationen einschlie√ülich Konfiguration und Schema
  </Accordion>

  <Accordion title="update_mid_call_tool">
    Aktualisiert ein bestehendes Mid-Call-Tool
    
    **Parameter:**
    - `id` (erforderlich) - Die eindeutige ID des zu aktualisierenden Tools
    - `name` (optional) - Tool-Name (nur Kleinbuchstaben und Unterstriche)
    - `description` (optional) - Detaillierte Erkl√§rung, wann und wie die KI dieses Tool verwenden sollte
    - `endpoint` (optional) - G√ºltige URL des aufzurufenden API-Endpoints
    - `method` (optional) - HTTP-Methode: GET, POST, PUT, PATCH oder DELETE
    - `timeout` (optional) - Request-Timeout in Sekunden (1-30)
    - `headers` (optional) - HTTP-Header, die mit der Anfrage gesendet werden sollen
    - `schema` (optional) - Parameter-Schema, das die KI extrahieren und senden wird
    
    **R√ºckgabe:** Erfolgsmeldung und aktualisierte Tool-Daten
  </Accordion>
</AccordionGroup>

## Projektstruktur

```
Famulor-MCP/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.ts          # MCP Server Entry Point
‚îÇ   ‚îú‚îÄ‚îÄ server.ts         # MCP Server Setup
‚îÇ   ‚îú‚îÄ‚îÄ tools/            # Famulor API Tools
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calls.ts      # Call Operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assistants.ts # Assistant Operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ conversations.ts # Conversation Operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ campaigns.ts   # Campaign Operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ leads.ts       # Lead Operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sms.ts         # SMS Operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ midCallTools.ts # Mid-Call Tools Operations
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts      # Tools Export
‚îÇ   ‚îú‚îÄ‚îÄ auth/             # Authentication
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ famulor.ts    # Famulor API Client
‚îÇ   ‚îî‚îÄ‚îÄ types/            # TypeScript Types
‚îÇ       ‚îî‚îÄ‚îÄ famulor.ts    # Famulor API Types
‚îú‚îÄ‚îÄ dist/                 # Compiled JavaScript (generated)
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ QUICKSTART.md         # Quick start guide
‚îú‚îÄ‚îÄ MCP_SETUP.md          # Detailed setup guide
‚îú‚îÄ‚îÄ DEPLOYMENT.md          # Deployment guide
‚îî‚îÄ‚îÄ ONLINE_DEPLOYMENT.md   # Online deployment guide
```

## √úber MCP

Dies ist ein **Model Context Protocol (MCP) Server**, der Zugriff auf die Famulor Voice Agent Platform bietet. MCP ist ein Protokoll, das es KI-Assistenten wie ChatGPT, Claude und anderen KI-Tools erm√∂glicht, sich sicher mit externen Datenquellen und Tools zu verbinden.

Der Server stellt die Voice-Agent-Funktionen von Famulor als MCP-Tools bereit und erm√∂glicht es jedem MCP-kompatiblen Client (ChatGPT Desktop, Claude Desktop oder anderen MCP-Anwendungen), mit der Famulor-Plattform zu interagieren.

## Sicherheit

- ‚úÖ Jeder Benutzer konfiguriert seinen eigenen API-Schl√ºssel
- ‚úÖ API-Schl√ºssel werden lokal in Ihrer MCP-Konfigurationsdatei gespeichert (verschl√ºsselt von Ihrem MCP-Client)
- ‚úÖ Keine API-Schl√ºssel werden √ºber das Netzwerk gesendet (stdio ist lokal)
- ‚ùå **Kommittieren Sie niemals Ihre MCP-Konfigurationsdatei mit API-Schl√ºsseln in die Versionskontrolle**
- ‚ùå **Teilen Sie Ihren API-Schl√ºssel niemals √∂ffentlich**

## Ressourcen

- üåê **Online MCP Server**: [https://mcp.famulor.io](https://mcp.famulor.io)
- [Famulor Voice Agent Homepage](https://www.famulor.io)
- [Famulor Voice Agent Platform](https://app.famulor.de)
- [Famulor API Dokumentation](https://docs.famulor.io/api-reference/)
- [MCP Protocol Dokumentation](https://modelcontextprotocol.io/)
- [ChatGPT Desktop App](https://chatgpt.com/download)
- [Claude Desktop App](https://claude.ai/download)
- [GitHub Repository](https://github.com/bekservice/Famulor-MCP)

## Beitragen

Beitr√§ge sind willkommen! Bitte z√∂gern Sie nicht, einen Pull Request einzureichen.

## Lizenz

Propriet√§re Lizenz - Nutzung nur f√ºr Famulor-Benutzer erlaubt

Diese Software darf nur verwendet, kopiert und modifiziert werden, wenn Sie die Famulor Voice Agent Platform verwenden. Siehe [LICENSE](https://github.com/bekservice/Famulor-MCP/blob/main/LICENSE) Datei f√ºr vollst√§ndige Details.

## Autor

[bekservice](https://github.com/bekservice)

