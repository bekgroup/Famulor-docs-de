---
title: "Assistenten erstellen"
api: "POST https://app.famulor.de/api/user/assistant"
icon: "plus"
description: "Einen neuen KI-Assistenten mit spezifizierter Konfiguration erstellen"
---

Dieser Endpunkt ermöglicht es Ihnen, einen neuen KI-Assistenten mit umfassenden Konfigurationsoptionen zu erstellen.

### Request Body

#### Erforderliche Kernfelder

<ParamField body="assistant_name" type="string" required>
  Der Name des Assistenten (max. 255 Zeichen)
</ParamField>

<ParamField body="voice_id" type="integer" required>
  Die Stimmen-ID für den Assistenten (muss in verfügbaren Stimmen existieren)
</ParamField>

<ParamField body="language" type="string" required>
  Der Sprachname für den Assistenten (max. 100 Zeichen)
</ParamField>

<ParamField body="llm_model" type="string" required>
  Der Name des zu verwendenden LLM-Modells (max. 100 Zeichen)
</ParamField>

<ParamField body="calls_direction" type="string" required>
  Der Anrufrichtungstyp. Optionen: `receive`, `make`
</ParamField>

<ParamField body="engine_type" type="string" required>
  Der zu verwendende Engine-Typ. Optionen: `pipeline`, `multimodal`
</ParamField>

<ParamField body="timezone" type="string" required>
  Die Zeitzone für den Assistenten (z.B. "Europe/Berlin")
</ParamField>

<ParamField body="initial_message" type="string" required>
  Die erste Nachricht, die der Assistent beim Anrufstart sprechen wird
</ParamField>

<ParamField body="system_prompt" type="string" required>
  Der System-Prompt, der das Verhalten und die Persönlichkeit des Assistenten definiert
</ParamField>

#### Optionale Konfiguration

<ParamField body="phone_number_id" type="integer">
  Die ID einer Telefonnummer, die dem Assistenten zugewiesen werden soll (muss in den Telefonnummern des Benutzers existieren)
</ParamField>

<ParamField body="tool_ids" type="integer[]">
  Array von Mid-call Action-IDs, die dem Assistenten zugewiesen werden sollen. Jedes Element muss eine gültige Tool-ID sein, die zu Ihrem Konto gehört.
</ParamField>

<ParamField body="endpoint_type" type="string">
  Sprachaktivitätserkennung-Typ. Optionen: `vad`, `ai`
</ParamField>

<ParamField body="endpoint_sensitivity" type="number">
  Endpunkt-Sensibilitätslevel (0-5)
</ParamField>

<ParamField body="interrupt_sensitivity" type="number">
  Unterbrechungs-Sensibilitätslevel (0-5)
</ParamField>

<ParamField body="ambient_sound_volume" type="number">
  Ambiente-Sound-Lautstärke (0-1)
</ParamField>

<ParamField body="post_call_evaluation" type="boolean">
  Ob Post-Call-Evaluation aktiviert werden soll
</ParamField>

<ParamField body="send_webhook_only_on_completed" type="boolean">
  Ob Webhooks nur bei abgeschlossenen Anrufen gesendet werden sollen
</ParamField>

<ParamField body="include_recording_in_webhook" type="boolean">
  Ob Aufzeichnungs-URL in Webhook-Payload eingeschlossen werden soll
</ParamField>

#### Webhook-Konfiguration

<ParamField body="is_webhook_active" type="boolean">
  Ob Webhook-Benachrichtigungen aktiviert sind
</ParamField>

<ParamField body="webhook_url" type="string">
  Die Webhook-URL für Post-Call-Benachrichtigungen (erforderlich wenn is_webhook_active auf true gesetzt ist)
</ParamField>

#### Unterbrechungseinstellungen

<ParamField body="use_min_interrupt_words" type="boolean">
  Ob die Mindest-Unterbrechungswörter-Einstellung verwendet werden soll
</ParamField>

<ParamField body="min_interrupt_words" type="integer">
  Mindestanzahl von Wörtern vor erlaubter Unterbrechung (0-10)
</ParamField>

#### Variablen und Schema

<ParamField body="variables" type="object">
  Schlüssel-Wert-Paare von benutzerdefinierten Variablen für den Assistenten
</ParamField>

<ParamField body="post_call_schema" type="array">
  Schema-Definition für Post-Call-Datenextraktion

  <Expandable title="post_call_schema Eigenschaften">
    <ParamField body="post_call_schema[].name" type="string" required>
      Der Name des Schema-Feldes (nur alphanumerisch und Unterstriche)
    </ParamField>

    <ParamField body="post_call_schema[].type" type="string" required>
      Der Datentyp. Optionen: `string`, `number`, `bool`
    </ParamField>

    <ParamField body="post_call_schema[].description" type="string" required>
      Beschreibung dessen, was dieses Feld repräsentiert
    </ParamField>
  </Expandable>
</ParamField>

#### End Call Tool

<ParamField body="end_call_tool.description" type="string">
  Beschreibung für die End Call Tool-Funktionalität (max. 500 Zeichen)
</ParamField>

#### Stimme und Sprache

<ParamField body="llm_temperature" type="number">
  LLM-Temperatur-Einstellung (0-1)
</ParamField>

<ParamField body="voice_stability" type="number">
  Stimm-Stabilität-Einstellung (0-1)
</ParamField>

<ParamField body="voice_similarity" type="number">
  Stimm-Ähnlichkeit-Einstellung (0-1)
</ParamField>

<ParamField body="speech_speed" type="number">
  Sprechgeschwindigkeits-Multiplikator (0.7-1.2)
</ParamField>

#### Anrufverhalten

<ParamField body="allow_interruptions" type="boolean">
  Ob Unterbrechungen durch den Anrufer erlaubt werden sollen
</ParamField>

<ParamField body="filler_audios" type="boolean">
  Ob Füller-Audio während der Verarbeitung verwendet werden soll
</ParamField>

<ParamField body="re_engagement_interval" type="integer">
  Re-Engagement-Intervall in Sekunden (7-600)
</ParamField>

<ParamField body="max_call_duration" type="integer">
  Maximale Anrufdauer in Sekunden (20-1200)
</ParamField>

<ParamField body="max_silence_duration" type="integer">
  Maximale Stillstand-Dauer in Sekunden (1-120)
</ParamField>

<ParamField body="end_call_on_voicemail" type="boolean">
  Ob Anruf bei Voicemail-Erkennung beendet werden soll
</ParamField>

<ParamField body="noise_cancellation" type="boolean">
  Ob Geräuschunterdrückung aktiviert werden soll
</ParamField>

<ParamField body="record_call" type="boolean">
  Ob der Anruf aufgezeichnet werden soll
</ParamField>

<ParamField body="who_speaks_first" type="string">
  Wer zuerst im Anruf spricht. Optionen: `AI assistant`, `Customer`
</ParamField>

### Response

<ResponseField name="message" type="string">
  Erfolgsmeldung, die die Assistenten-Erstellung bestätigt
</ResponseField>

<ResponseField name="data" type="object">
  Daten des erstellten Assistenten

  <Expandable title="Daten-Eigenschaften">
    <ResponseField name="id" type="integer">
      Die eindeutige Kennung des erstellten Assistenten
    </ResponseField>

    <ResponseField name="name" type="string">
      Der Name des Assistenten
    </ResponseField>

    <ResponseField name="status" type="string">
      Der aktuelle Status des Assistenten
    </ResponseField>

    <ResponseField name="type" type="string">
      Der Typ des Assistenten (inbound oder outbound)
    </ResponseField>

    <ResponseField name="mode" type="string">
      Der Engine-Modus (pipeline oder multimodal)
    </ResponseField>
  </Expandable>
</ResponseField>

### Hinweise

- Alle erforderlichen Felder müssen für eine erfolgreiche Assistenten-Erstellung angegeben werden
- Der Assistent wird mit Standardeinstellungen für alle nicht angegebenen optionalen Felder erstellt
- Die Telefonnummer-Zuweisung ist optional, aber die Telefonnummer muss dem authentifizierten Benutzer gehören
- Webhook-URL ist nur erforderlich, wenn `is_webhook_active` auf `true` gesetzt ist
- Stimm- und Sprach-Kennungen müssen verfügbaren Optionen im System entsprechen

<CodeGroup>
```bash cURL
curl -X POST "https://app.famulor.de/api/user/assistant" \
  -H "Authorization: Bearer YOUR_API_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "assistant_name": "Premium Verkaufs-Assistent",
    "voice_id": 413,
    "language": "German",
    "llm_model": "GPT-4o",
    "calls_direction": "make",
    "engine_type": "pipeline",
    "timezone": "Europe/Berlin",
    "initial_message": "Guten Tag! Ich rufe von Famulor an.",
    "system_prompt": "Du bist ein freundlicher Verkaufsassistent...",
    "phone_number_id": 2131,
    "is_webhook_active": true,
    "webhook_url": "https://example.com/webhook",
    "post_call_evaluation": true,
    "variables": {
      "company_name": "Famulor",
      "service_type": "AI-Telefonie"
    },
    "post_call_schema": [
      {
        "name": "customer_interested",
        "type": "bool",
        "description": "Whether the customer showed interest"
      },
      {
        "name": "follow_up_date",
        "type": "string",
        "description": "Preferred follow-up date"
      }
    ],
    "allow_interruptions": true,
    "speech_speed": 1.1,
    "max_call_duration": 600,
    "record_call": true
  }'
```

```javascript JavaScript
const response = await fetch("https://app.famulor.de/api/user/assistant", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    Authorization: "Bearer YOUR_API_TOKEN",
  },
  body: JSON.stringify({
    assistant_name: "Premium Verkaufs-Assistent",
    voice_id: 413,
    language: "German",
    llm_model: "GPT-4o",
    calls_direction: "make",
    engine_type: "pipeline",
    timezone: "Europe/Berlin",
    initial_message: "Guten Tag! Ich rufe von Famulor an.",
    system_prompt: "Du bist ein freundlicher Verkaufsassistent...",
    phone_number_id: 2131,
    is_webhook_active: true,
    webhook_url: "https://example.com/webhook",
    post_call_evaluation: true,
    variables: {
      company_name: "Famulor",
      service_type: "AI-Telefonie",
    },
    post_call_schema: [
      {
        name: "customer_interested",
        type: "bool",
        description: "Whether the customer showed interest",
      },
      {
        name: "follow_up_date",
        type: "string",
        description: "Preferred follow-up date",
      },
    ],
    allow_interruptions: true,
    speech_speed: 1.1,
    max_call_duration: 600,
    record_call: true,
  }),
});

const data = await response.json();
```

```python Python
import requests

payload = {
    "assistant_name": "Premium Verkaufs-Assistent",
    "voice_id": 413,
    "language": "German",
    "llm_model": "GPT-4o",
    "calls_direction": "make",
    "engine_type": "pipeline",
    "timezone": "Europe/Berlin",
    "initial_message": "Guten Tag! Ich rufe von Famulor an.",
    "system_prompt": "Du bist ein freundlicher Verkaufsassistent...",
    "phone_number_id": 2131,
    "is_webhook_active": True,
    "webhook_url": "https://example.com/webhook",
    "post_call_evaluation": True,
    "variables": {
        "company_name": "Famulor",
        "service_type": "AI-Telefonie",
    },
    "post_call_schema": [
        {
            "name": "customer_interested",
            "type": "bool",
            "description": "Whether the customer showed interest",
        },
        {
            "name": "follow_up_date",
            "type": "string",
            "description": "Preferred follow-up date",
        },
    ],
    "allow_interruptions": True,
    "speech_speed": 1.1,
    "max_call_duration": 600,
    "record_call": True,
}

response = requests.post(
    "https://app.famulor.de/api/user/assistant",
    headers={
        "Content-Type": "application/json",
        "Authorization": "Bearer YOUR_API_TOKEN",
    },
    json=payload,
    timeout=10,
)

print(response.json())
```
</CodeGroup>

<ResponseExample>

```json 200 Success
{
  "message": "Assistant created successfully",
  "data": {
    "id": 3579,
    "name": "Mein Verkaufs-Assistent",
    "status": "active",
    "type": "outbound",
    "mode": "pipeline"
  }
}
```

```json 422 Validation Error
{
  "message": "The given data was invalid.",
  "errors": {
    "assistant_name": [
      "The assistant name field is required."
    ],
    "voice_id": [
      "The selected voice id is invalid."
    ],
    "webhook_url": [
      "The webhook url field is required when is webhook active is true."
    ]
  }
}
```

```json 500 Internal Server Error
{
  "message": "Assistant creation failed"
}
```

</ResponseExample>
